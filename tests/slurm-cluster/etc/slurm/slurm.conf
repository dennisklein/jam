# Minimal Slurm configuration for test cluster
ClusterName=jam-test
SlurmctldHost=slurmctld

# Paths
SlurmctldPidFile=/var/run/slurm/slurmctld.pid
SlurmdPidFile=/var/run/slurm/slurmd.pid
SlurmdSpoolDir=/var/spool/slurmd
StateSaveLocation=/var/spool/slurmctld
SlurmdLogFile=/var/log/slurm/slurmd.log
SlurmctldLogFile=/var/log/slurm/slurmctld.log

# Authentication
AuthType=auth/munge
CryptoType=crypto/munge

# Process tracking via cgroup
ProctrackType=proctrack/cgroup
TaskPlugin=task/cgroup,task/affinity

# Scheduling
SchedulerType=sched/backfill
SelectType=select/cons_tres
SelectTypeParameters=CR_Core

# Logging
SlurmctldDebug=info
SlurmdDebug=info

# Timeouts
SlurmdTimeout=300
SlurmctldTimeout=300
InactiveLimit=0
MinJobAge=300
KillWait=30
Waittime=0

# Compute nodes (hostnames resolved via Docker DNS)
NodeName=c1 CPUs=2 State=UNKNOWN
NodeName=c2 CPUs=2 State=UNKNOWN
PartitionName=debug Nodes=c1,c2 Default=YES MaxTime=INFINITE State=UP
